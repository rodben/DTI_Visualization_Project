<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>DTI Visualizaton Project</title>
		<meta name="description" content="A Website to explain DTI techniques and derivatives visualizations" />
		<meta name="keywords" content="DTI, DWI, Scientific Visualization, Tractography, Glyphs, Diffusion, Data Visualization" />
		<link rel="shortcut icon" href="../favicon.ico">
		<link href='http://fonts.googleapis.com/css?family=Playfair+Display:900,400|Lato:300,400,700' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="css/demo.css" />
		<link rel="stylesheet" type="text/css" href="css/dragdealer.css" />
		<link rel="stylesheet" type="text/css" href="css/component.css" />

  		<script type="text/javascript" src="js/modernizr.custom.js"></script>
<!--			<script type="text/javascript" src="js/three.js"></script>-->
			<script type="text/javascript" src="js/DragControls.js"></script>
			<script type="text/javascript" src="js/TrackballControls.js"></script>
			<!-- XTK Visualization toolkit js files-->			
			<script type="text/javascript" src="js/xtk_edge.js"></script>
      <script type="text/javascript" src="js/xtk_xdat.gui.js"></script>

			

			<script src="js/main_script.js"></script>
	</head>
	<body>
		<div class="container">
			<div class="codrops-top clearfix">
				<span class="right"><a class="codrops-icon codrops-icon-drop" href="http://tympanus.net/codrops/?p=19332"><span>Project Details</span></a></span>
			</div>
			<header id="header" class="codrops-header">
				<h1>IA369 Project</h1>
				<span class="message">This mobile version does not have the slideshow switch</span>
				<button class="slider-switch">Switch view</button>
			</header>
			<div id="overlay" class="overlay">
				<div class="info">
					<h2>Demo interactions</h2>
					<span class="info-drag">Drag Sliders</span>
					<span class="info-keys">Use Arrows</span>
					<span class="info-switch">Switch view</span>
					<button>Got it!</button>
				</div>
			</div>
			<div id="slideshow" class="dragslider">
				<section class="img-dragger img-dragger-large dragdealer">
					<div class="handle">
						<div class="slide" data-content="content-1">
							<div class="img-wrap"><img src="img/concept.jpg" alt="img1"/></div>
							<h2>Concepts<span>Theory and principles behind brain scanning</span></h2>
							<button class="content-switch">Read more</button>
						</div>
						<div class="slide" data-content="content-2">
							<div class="img-wrap"><img src="img/dti_visual.png" alt="img2"/></div>
							<h2>RAW Data: DWI <span>How to represent Medical Image Data </span></h2>
							<button class="content-switch">Read more</button>
						</div>
						<div class="slide" data-content="content-3">
							<div class="img-wrap"><img src="img/dti.jpg" alt="img3"/></div>
							<h2>Conversion: DWI to DTI <span> How to obtain diffusion characteristics</span></h2>
							<button class="content-switch">Read more</button>
						</div>
						<div class="slide" data-content="content-4">
							<div class="img-wrap"><img src="img/fa.png" alt="img4"/></div>
							<h2>Scalar Indexes<span>Representing Data in a Visual Manner</span></h2>
							<button class="content-switch">Read more</button>
						</div>
						<div class="slide" data-content="content-5">
							<div class="img-wrap"><img src="img/colormap.png" alt="img5"/></div>
							<h2> Colormaps <span>What are they and what's the utility?</span></h2>
							<button class="content-switch">Read more</button>
						</div>
						<div class="slide" data-content="content-6">
							<div class="img-wrap"><img src="img/glifos.png" alt="img6"/></div>
							<h2>Glyphs <span>Visualizing Tensors in a Straightfoward Way </span></h2>
							<button class="content-switch">Read more</button>
						</div>
						<div class="slide" data-content="content-7">
							<div class="img-wrap"><img src="img/tratos2.png" alt="img7"/></div>
							<h2>Tractography <span>Visualizing Brain Fibers, a medical revolution</span></h2>
							<button class="content-switch">Read more</button>
						</div>
					</div>
				</section><!-- /img-dragger-->
				<!-- Content section -->
				<section class="pages">
					<div class="content" data-content="content-1">
						<h2>Concepts <span>Theory and principles behind brain scanning</span></h2>
						<p> The main idea ...</p>

							<canvas id="ellipse_placement" width="900" height="400" style="border: none"></canvas>
							<script type="text/javascript" src="js/ellipse.js"></script>
						<p class="related">
							Further references <a href="https://en.wikipedia.org/wiki/Diffusion_MRI">[1] Website</a>
<a href="Concepts and Theory ... ">[2] Article</a>
<a href="On theory and principles ...">[3] Book</a>
						</p>
					</div>
					<div class="content" data-content="content-2">
						<h2>RAW Data <span>How to understand Brain microstructure</span></h2>
						
						<p>Diffusion Weighted Image (DWI) shows constrast based-on diffusion differences of water molecules  inside the brain.</p>

<p> The diffusion represents random thermal motion of the molecules, also known as Brownian motion. It depends on the various factors as molecule type at study, temperature and the micro-environment in wich diffusion takes place [1]. In a fibers bundle, the effective molecular diffusion is greater in direction along the fiber than in orthogonal direction to fiber. This type of diffusion is known as anisotropic diffusion in contrast to isotropic diffusion [2].</p>

<p> DWI adquisition is done applying two magnetic field gradients: the first one causes phase shifts in the molecules while the second one cancel these shifts reorienting stationary spins. Reorientation to the initial state will not be perfect for molecules that have moved during lapse between gradients. This "not perfect reorientation" causes a signal loss. The signal loss magnitude is determined by the degree of random movement (given by environment diffusion coeficient) and the gradients intensity and duration. The loss signal magnitude can be improved increasing intesity and duration of the gradients.</p>

			<figure id="my_dwi">
                            <div>
                                <figure>
                                    <img src="img/dwi/DWI_1.png" />
                                    <figcaption> Signal loss </figcaption>
                                </figure>
				<figure>
                                    <img src="img/dwi/DWI_2.png" />
                                    <figcaption> Diffusion coeficient </figcaption>
                                </figure>
                            </div>
                        </figure>

<p> Where A represents the signal loss, D is the diffusion coefficient and b is a variable that depends of the applied gradients. So, in DWI, the signal intensity per voxel is the signal intensity without applied gradient (ISo: = 0s/mm2) reduced by the signal loss A. In presence of anisotropy, in order to achieve tissue full characterization gradients in various directions are applied obtaining a intensity 3D map in each direction.</p>



			<figure id="my_dwi">
                            <div>
                                <figure>
                                    <img src="img/dwi/DWI_3.png" />
                                    <figcaption> DWI intensity </figcaption>
                                </figure>
                            </div>
                        </figure>

			<select id="gradients_sel">
				<option value="0">Gradient 0 (b0)</option>
				<option value="1">Gradient 1</option>
				<option value="15">Gradient 15</option>
				<option value="33">Gradient 33</option>
			</select>
                        
			<script type="text/javascript" src="js/script_grad.js"></script>

                        <div id="renderer_volume_container" style="width: 70%; height: 400px;">
			<!-- <div id="renderer_volume_container" style="width: 50%; height: 200px;"> -->

                            <div id='loading'>
                                <h1 class='onair'>Loading data...</h1> 
                                <div class="loader-bg boxair"></div>
                            </div>

                            <div style="width: 30%; height: 100%;">
                                <div style="top: 0px; left: 0px;"> Sagittal View </div>
                                <div id="sliceX_grad" style="width: 100%; height: 95%; max-height: 95%;"> </div>
				<!-- <div id="sliceX_grad" style="width: 80%; height: 65%; max-height: 65%;"> </div> -->
                            </div>

                            <div style="width: 30%; height: 100%;">
                                <div style="top: 0px; left: 0px;"> Coronal View </div>
                                <div id="sliceY_grad" style="width: 100%; height: 95%; max-height: 95%;"> </div>
                            </div>

                            <div style="width: 30%; height: 100%;">
                                <div style="top: 0px; left: 0px;"> Axial View </div>
                                <div id="sliceZ_grad" style="width: 100%; height: 95%; max-height: 95%;"> </div>
                            </div>

                        </div>

						<p class="related">
                            Further references
                            <a href="https://www.ncbi.nlm.nih.gov/pubmed/12595101" target="_blank">[1] BAMMER, 2003</a>
                            <a href="https://www.ncbi.nlm.nih.gov/pubmed/14534804" target="_blank">[2] HUISMAN, 2003</a>
						</p>
					</div>
					<div class="content" data-content="content-3">
						<h2>Conversion DTI to DWI <span>How to obtain diffusion characteristics</span></h2>
						<p>Converting simple DWI images to ...</p>
						
<!--						<script type="text/javascript" src="js/script_rod.js"></script>-->
<!--						<link rel="stylesheet" type="text/css" href="css/style.css"/>-->

<!--						<div id="renderer_volume_container" style="width: 70%; height: 400px;">-->

<!--<!--							<div id="3d" style="width: 49%; height: 49%; display: inline-block; float: left; border-right: 1px solid white;"></div>-->-->
<!-- 							<div style="width: 30%; height: 100%;">-->
<!--                  <div style="top: 0px; left: 0px;"> 3D View </div>-->
<!--                  <div id="3d" style="width: 100%; height: 95%; max-height: 95%;"> </div>-->
<!--              </div>-->

<!--						 <div style="width: 30%; height: 100%;">-->
<!--   	          <div style="top: 0px; left: 0px;"> Axial View </div>-->
<!--              <div id="sliceX" style="width: 100%; height: 95%; max-height: 95%;"> </div>-->
<!--            </div>-->

<!--              <div style="width: 30%; height: 100%;">-->
<!--        	      <div style="top: 0px; left: 0px;"> Coronal View </div>-->
<!--                <div id="sliceY" style="width: 100%; height: 95%; max-height: 95%;"> </div>-->
<!--              </div>-->

<!--             <div style="width: 30%; height: 100%;">-->
<!--   	          <div style="top: 0px; left: 0px;"> Axial View </div>-->
<!--              <div id="sliceZ" style="width: 100%; height: 95%; max-height: 95%;"> </div>-->
<!--            </div>-->

<!--						</div>-->

						<p class="related">
					Further references
<a href="https://en.wikipedia.org/wiki/Diffusion_MRI">[1] Website</a>
<a href="Concepts and Theory ... ">[2] Article</a>
<a href="On theory and principles ...">[3] Book</a>
						</p>
					</div>
					<div class="content" data-content="content-4">
						<h2>Scalar Indexes <span>Representing Data in a Visual Way</span></h2>

						<p> 

							Scalar indexes are representations of 

						</p>

						<script type="text/javascript" src="js/multiplanar.js"></script>
						<link rel="stylesheet" type="text/css" href="css/multiplanar.css"/>
						
						<div id="scalar_index_container">
								<div id="scalar_index_multiplanar" style="width: 55%; height: 800px; max-height: 770px;"></div>
						</div>

						<p> 

							Scalar indexes can also be visualized as a conjunct of  

						</p>



						<p class="related">
					Further references
<a href="https://en.wikipedia.org/wiki/Diffusion_MRI">[1] Website</a>
<a href="Concepts and Theory ... ">[2] Article</a>
<a href="On theory and principles ...">[3] Book</a>
						</p>
					</div>
					<div class="content" data-content="content-5">
						<h2>Colormaps <span>What are they and what's the utility?</span></h2>

						<div id="div_webgl_canvas_colormap">
                            <canvas id="webgl_colormap" width="400" height="400">
                                Please use a browser that supports "canvas"
                            </canvas>
                        </div>

                        <script src="js/superquadric/webgl-utils.js"></script>
                        <script src="js/superquadric/webgl-debug.js"></script>
                        <script src="js/superquadric/cuon-utils.js"></script>
                        <script src="js/superquadric/cuon-matrix.js"></script>
                        <script src="js/colormap/colormap.js"></script>
						
												<p class="related">
					Further references
<a href="https://en.wikipedia.org/wiki/Diffusion_MRI">[1] Website</a>
<a href="Concepts and Theory ... ">[2] Article</a>
<a href="On theory and principles ...">[3] Book</a>
						</p>
					</div>
					<div class="content" data-content="content-6">
						<h2>Glyphs<span>Visualizing Tensors in a Straightfoward Way</span></h2>
						
						<p>
                            The tensor glyphs are graphic objects that describe the eigenvalues and eigenvectors of a tensor [1]
                            through their geometric (for example, shape) and graphical (for example, color) properties. The properties of a tensor 
                            can be more easily analyzed by linking them to the domain proposed by Westin et al. [2] that encompasses
                            all the geometric forms that a glyph can take [3].
                        </p>
                        
                        <p>
                            The eigenvalues tell us the diffusivity in the direction of their respective eigenvectors. According to their relations,
                            the diffusion type can be divided into three basic classes: linear (&lambda;<sub>1</sub> >> &lambda;<sub>2</sub> ≈ &lambda;<sub>3</sub>),
                            planar (&lambda;<sub>1</sub> ≈ &lambda;<sub>2</sub> >> &lambda;<sub>3</sub>), and spherical
                            (&lambda;<sub>1</sub> ≈ &lambda;<sub>2</sub> ≈ &lambda;<sub>3</sub>) [2]. Westin et al. Also show 
                            that to expand the tensor using these three cases as a
                            base, one can write (&lambda;<sub>1</sub> - &lambda;<sub>2</sub>), (&lambda;<sub>2</sub> – &lambda;<sub>3</sub>) and
                            &lambda;<sub>3</sub> as the coordinates of this new base and achieve a significant geometric
                            interpretation for the diffusion tensor. When normalizing these coordinates with respect to the sum of the eigenvalues 
                            and rearranging the normalized coordinates such that they are in the interval [0, 1] and that the sum of them is 1, we obtain
                        </p>
                        
                        <figure id="my_glyphs_img">
                            <div>
                                <figure>
                                    <img src="img/superquadric/planar.png" />
                                    <figcaption> Planar </figcaption>
                                </figure>
                                <figure>
                                    <img src="img/superquadric/linear.png" />
                                    <figcaption> Linear </figcaption>
                                </figure>
                                <figure>
                                    <img src="img/superquadric/esferico.png" />
                                    <figcaption> Spherical </figcaption>
                                </figure>
                            </div>
                            <figcaption> Glyph classes. </figcaption>
                        </figure>
                        
                        <p>
                            which define a barycentric parametrization of a triangular domain with the linear, planar and spherical cases at the ends,
                            as shown in Figure below. Through this triangular domain, we can obtain all the different forms that a glyph can assume based
                            on eigenvalues.
                        </p>
                        
                        <p>
                            Nowaday, the main glyphs used are cuboid, cylinder, ellipsoid and superquadric. Cuboids, shown in Figure (a), can express
                            through the orientation of their faces and their size, respectively, the directions of diffusion and diffusivity. The
                            disadvantage of cuboids is their flat faces that make it difficult to perceive their 3D geometry in a 2D plane, which can
                            lead to misinterpretation [1]. Cylinders, shown in Figure (b), express the main direction of diffusion
                            through its axis. Its disadvantage is the sudden rotation of 90 degrees in its shape, causing discontinuities in the
                            visualization [4]. Ellipsoids, shown in Figure (c), are the most commonly used tensor glyphs and represent the 
                            main direction of diffusion through their orientation. They have a rotational symmetry that avoids incorrect interpretation
                            of the orientation [1], but some of its different forms may have similar appearance from a certain
                            point of view [3].
                        </p>
                        
                        <br/>
                        <figure id="my_glyphs_img">
                            <div>
                                <figure>
                                    <img src="img/superquadric/cuboids.png" />
                                    <figcaption> (a)Cuboid </figcaption>
                                </figure>
                                <figure>
                                    <img src="img/superquadric/cylinder.png" />
                                    <figcaption> (b)Cylinder </figcaption>
                                </figure>
                                <figure>
                                    <img src="img/superquadric/ellipsoids.png" />
                                    <figcaption> (c)Ellipsoid </figcaption>
                                </figure>
                                <figure>
                                    <img src="img/superquadric/superquadrics.png" />
                                    <figcaption> (d)Superquadric </figcaption>
                                </figure>
                            </div>
                            <figcaption> Glifos de tensor. </figcaption>
                        </figure>
                        
                        <p>
                            In order to overcome the disadvantages raised by the proposed glyphs, Kindlmann presented the superquadric glyphs for
                            diffusion tensors with the use of superquadric functions [3]. In these new glyphs, he was able to combine
                            the positive characteristics of cuboid, cylindrical, and ellipsoid glyphs. Figure (d) illustrates the superquadric glyphs.
                        </p>
                        
                        <div id="superquadric_webgl">

                            <div id="div_webgl_sliders">
                                <div>
                                    <br/>
                                    &lambda;<sub>1</sub>: <input id="eigenvalue_01" type ="range" step ="0.01" max="1.0" min ="0.0" />

                                    <br/>
                                    &lambda;<sub>2</sub>: <input id="eigenvalue_02" type ="range" step ="0.01" max="1.0" min ="0.0" />

                                    <br/>
                                    &lambda;<sub>3</sub>: <input id="eigenvalue_03" type ="range" step ="0.01" max="1.0" min ="0.0" />
                                </div>
                                
                                <br/>
                                <div>
                                    C<sub>l</sub>: <span id="span_linear"> </span>

                                    <br/>
                                    C<sub>p</sub>: <span id="span_planar"> </span>

                                    <br/>
                                    C<sub>s</sub>: <span id="span_spherical"> </span>
                                </div>
                            </div>
                            
                             <div id="div_webgl_canvas">
                                <canvas id="webgl" width="400" height="400">
                                    Please use a browser that supports "canvas"
                                </canvas>
                            </div>
                           
                            <link rel="stylesheet" type="text/css" href="css/superquadric/superquadric_style.css" />
                            <script src="js/superquadric/superquadric.js"></script>
                        </div>
                        
                        <p>
                            One problem that the glyphs have is that they expose the individual characteristics of diffusivity of the tensors of the
                            samples. They do not give the overall notion of continuity that deals have. Tractography is a response to this deficiency.
                            Although this work proposes to develop a system of visualization of diffusivity tensors by colored glyphs, we will, by
                            completeness, make a brief presentation of tractography.
                        </p>
                        
                        <p class="related">
                            Further references 
                            <a href="https://dx.doi.org/10.1007/3-540-31272-2_7" target="_blank">[1] VILANOVA et al., 2006</a>
                            <a href="http://lmi.bwh.harvard.edu/papers/papers/westinISMRM97.html" target="_blank">[2] WESTIN et al., 1997</a>
                            <a href="https://dx.doi.org/10.2312/VisSym/VisSym04/147-154" target="_blank">[3] KINDLMANN, 2004</a>
                            <a href="https://www.crcpress.com/Data-Visualization-Principles-and-Practice-Second-Edition/Telea/p/book/9781466585263" target="_blank">[4] TELEA, 2014</a>
						</p>
					</div>
					<div class="content" data-content="content-7">
						<h2>Tractography <span>Visualizing Brain Fibers</span></h2>
		
							<p>
									Tractography is a visual representations of brain white matter fiber anatomy, as such, explore the next visualization to observe some neural connections.
							</p>
						
							<!-- Tractography render script -->			
							<script type="text/javascript" src="js/tractography_3d.js"></script>
							<!-- Tractography css files -->
							<link rel="stylesheet" type="text/css" href="css/tractography.css" />
		
							<div id='threeD_tractography_container'> 
								<div id="threeD_tractography_visual" style="width: 100%; height: 100%; max-height: 95%;"></div>
							</div>

							<p>
									Estimating those fibers is the final result of a great many number of transformations, as explained in the previous sections, which cumulated
									in a mathematical representation of the majority of fibers in a human brain.  
							</p>

						
							<p class="related">
		
								Further references
								<a href="https://en.wikipedia.org/wiki/Diffusion_MRI">[1] Website</a>
								<a href="Concepts and Theory ... ">[2] Article</a>
								<a href="On theory and principles ...">[3] Book</a>
							
							</p>
					</div>

				</section>
			</div>
		</div><!-- /container -->
		<script src="js/dragdealer.js"></script>
		<script src="js/classie.js"></script>
		<script src="js/dragslideshow.js"></script>
		<script>
			(function() {

				var overlay = document.getElementById( 'overlay' ),
					overlayClose = overlay.querySelector( 'button' ),
					header = document.getElementById( 'header' )
					switchBtnn = header.querySelector( 'button.slider-switch' ),
					toggleBtnn = function() {
						if( slideshow.isFullscreen ) {
							classie.add( switchBtnn, 'view-maxi' );
						}
						else {
							classie.remove( switchBtnn, 'view-maxi' );
						}
					},
					toggleCtrls = function() {
						if( !slideshow.isContent ) {
							classie.add( header, 'hide' );
						}
					},
					toggleCompleteCtrls = function() {
						if( !slideshow.isContent ) {
							classie.remove( header, 'hide' );
						}
					},
					slideshow = new DragSlideshow( document.getElementById( 'slideshow' ), {
						// toggle between fullscreen and minimized slideshow
						onToggle : toggleBtnn,
						// toggle the main image and the content view
						onToggleContent : toggleCtrls,
						// toggle the main image and the content view (triggered after the animation ends)
						onToggleContentComplete : toggleCompleteCtrls
					}),
					toggleSlideshow = function() {
						slideshow.toggle();
						toggleBtnn();
					},
					closeOverlay = function() {
						classie.add( overlay, 'hide' );
					};

				// toggle between fullscreen and small slideshow
				switchBtnn.addEventListener( 'click', toggleSlideshow );
				// close overlay
				overlayClose.addEventListener( 'click', closeOverlay );

			}());
		</script>
	</body>
</html>
